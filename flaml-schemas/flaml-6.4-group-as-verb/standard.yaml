# Structures
- def (structure)

- def (digraph) extends (structure)

- def (tree) extends (digraph):
    group foreach:
      - /root
      - /leaves
      - /internal-nodes
      - (linear) depth-first-search-order
      - (linear) breadth-first-search-order
      - (linear) depth-order

- def (linear) extends (tree):
    group foreach:
      - /first =: /root
      - /last =: /leaves

- def (2D) extends (structure):
    group foreach:
      - (linear) x-axis
      - (linear) y-axis

- def (3D) extends (structure):
    group foreach:
      - (linear) x-axis
      - (linear) y-axis
      - (linear) z-axis
      - (2D) xy-projection
      - (2D) yz-projection
      - (2D) zx-projection

# Presentation Layer
- def (mark)
- def (encoding) extends (structure)
- def (presentation):
    group foreach:
      - (encoding) /encoding:
          affects: (mark) /marks

- def (gui) extends (presentation):
    group foreach:
      - /encoding:
          subset:
            - (linear) /encoding.hwrap
            - (linear) /encoding.vwrap
            - (linear) /encoding.vstack
            - (linear) /encoding.hstack
            - (linear) /encoding.voffset
            - (linear) /encoding.hoffset
            - (2D) /encoding.canvas
            - (encoding) /encoding.cluster
            - (encoding) /encoding.left-right-align
            - (encoding) /encoding.top-bottom-align
            - (encoding) /encoding.color
      - /marks:
          subset:
            - (mark) marks.points
            - (mark) marks.hlines
            - (mark) marks.vlines
            - (mark) marks.rectangles
            - (mark) marks.icons
            - (mark) marks.text

- def (reader) extends (presentation):
    group foreach:
      - /encoding:
          subset: .order
      - /marks:
          subset: .spoken

# Action
- def (action)
#     subgroup: move
# - def (move):
#     arguments: /trajector, /substrate, /structure
#     updates: /trajector covers /substrate
#     directions: /structure

# Input Devices (super tentative)
# - def (mouse):
#     group foreach:
#   - /position->gui/marks.points
#   - (action) click:
#       triggers: /position->gui/marks.points->action # hit testing
#   - (action) drag-start:
#       triggers: /position->gui/marks.points->action
#   - (action) drag-end:
#       triggers: /position->gui/marks.points->action
# #   - (action) drag: #2D somehow

# - def (key):
#     group foreach:
#       - (action) click
#       - (action) down
#       - (action) up

# - def (keyboard):
#     group foreach:
#       - (key) keys:
#           - subset: .arrows, .modifiers
#       - (action) arrows: #2D somehow
