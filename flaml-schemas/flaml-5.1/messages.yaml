structures:
  - name: time
    type: linear
    derivatives:
      - name: msg-order
        type: order
        affects: messages

  - name: convo-order
    type: order
    affects: conversations
  - name: conversations
    type: group
    affects: messages
  - name: authors
    type: group
    affects: messages

representations:
  - name: chat-view
    type: gui
    objects:
      - textbox: conversations.selected->messages
    structures:
      - vstack: msg-order
      - group: conversations
  - name: convo-view
    type: gui
    objects:
      - region: conversations
    structures:
      - vstack: convo-order

behavior:
  - name: change-convo
    edits: conversations.selected
    input: tap
  - name: next-convo
    moves:
      object: conversations.selected
      along: convo-order
    input: keyboard.tab
  - name: send-message
    edits: conversations.selected->messages
